<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Running Calculator ‚Äî All-in-One</title>
<style>
  :root{
    --bg:#f4f7fb; 
    --card:#ffffff; 
    --text:#233041; 
    --muted:#6b7a90; 
    --primary:#0d6efd; 
    --primary-700:#0b5ed7; 
    --ring: rgba(13,110,253,.25);
  }
  *{box-sizing:border-box}
  body{
    margin:0;background:var(--bg);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
    color:var(--text)
  }

  /* Header ‡πÄ‡∏ï‡∏µ‡πâ‡∏¢‡∏•‡∏á */
  header{
    position:sticky; top:0; z-index:10;
    background:var(--card);
    border-bottom:1px solid #e6eef8;
  }
  .wrap{
    max-width:1000px; margin:0 auto;
    padding:6px 12px;                   /* ‡πÄ‡∏î‡∏¥‡∏° 10px 16px ‚Üí ‡∏•‡∏î‡∏•‡∏á */
    display:flex; gap:6px; align-items:center; flex-wrap:wrap;
  }
  h1{
    font-size:14px;                     /* ‡πÄ‡∏î‡∏¥‡∏° 18px ‚Üí ‡∏•‡∏î‡∏•‡∏á */
    margin:0; white-space:nowrap;
  }

  /* ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏°‡∏ô‡∏π‡πÅ‡∏ö‡∏ö‡∏Å‡∏£‡∏∞‡∏ä‡∏±‡∏ö */
  .tabs{ display:flex; gap:6px; flex:1; flex-wrap:wrap }
  .tab-btn{
    appearance:none; cursor:pointer; transition:.2s;
    border:1px solid #d6e2f3; background:#fff;
    padding:6px 10px;                   /* ‡πÄ‡∏î‡∏¥‡∏° 10px 14px ‚Üí ‡∏•‡∏î‡∏•‡∏á */
    border-radius:999px; font-weight:600; font-size:14px; /* ‡πÄ‡∏î‡∏¥‡∏° ~16px */
    text-align:center;
    flex:1 1 140px;                     /* ‡πÄ‡∏î‡∏¥‡∏° 160px ‚Üí ‡∏•‡∏î‡∏•‡∏á */
  }
  .tab-btn[aria-selected="true"]{
    background:var(--primary); color:#fff; border-color:var(--primary);
  }
  .tab-btn:focus-visible{ outline:3px solid var(--ring) }

  /* ‡∏ã‡πà‡∏≠‡∏ô‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏£‡∏∞‡∏´‡∏¢‡∏±‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà */
  .note{ display:none; }

  /* ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏≤‡∏° header ‡∏ó‡∏µ‡πà‡πÄ‡∏ï‡∏µ‡πâ‡∏¢‡∏•‡∏á */
  .view{ height:calc(100vh - 48px) }    /* ‡πÄ‡∏î‡∏¥‡∏° 68px ‚Üí 48px */

  iframe{
    display:none; border:0; width:100%; height:100%;
    background:#fff; border-radius:0;
  }
  iframe.active{ display:block }

  /* ‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏°‡∏µ‡∏Ç‡∏ô‡∏≤‡∏î‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏ô‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà */
  @media (min-width: 900px) {
    .tab-btn{ flex:0 0 auto; min-width:140px } /* ‡πÄ‡∏î‡∏¥‡∏° 160px ‚Üí 140px */
  }

  /* ‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏≠‡πÄ‡∏•‡πá‡∏Å‡∏°‡∏≤‡∏Å: ‡∏•‡∏î‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å‡∏ô‡∏¥‡∏î */
  @media (max-width: 360px) {
    .wrap{ padding:4px 8px; gap:4px }
    .tabs{ gap:4px }
    .tab-btn{ padding:5px 8px; font-size:13px; min-width:120px }
    .view{ height:calc(100vh - 42px) }
  }
</style>

</head>
<body>
  <header>
    <div class="wrap">
      <h1>üèÉ‚Äç‚ôÇÔ∏è Running Calculator</h1>
      <div class="tabs" role="tablist" aria-label="Calculator pages">
        <button class="tab-btn" role="tab" id="tab-pace" aria-selected="true" data-target="page-pace">Time/Pace/Distance</button>
        <button class="tab-btn" role="tab" id="tab-race" aria-selected="false" data-target="page-race">Race Predict</button>
        <button class="tab-btn" role="tab" id="tab-train" aria-selected="false" data-target="page-train">Training Pace</button>
        <button class="tab-btn" role="tab" id="tab-time" aria-selected="false" data-target="page-time">Pace Table</button>

      </div>
      <div class="note">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì</div>
    </div>
  </header>

  <main class="view">
    <!-- Each page is the original file embedded intact via iframe srcdoc -->
    <iframe id="page-time" title="Time, Pace, Distance" srcdoc="&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot; /&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot; /&gt;
    &lt;title&gt;Pace Calculator&lt;/title&gt;
    &lt;style&gt;
        body {
            max-width: 800px;
            margin: 0 auto;
            font-family: Arial, sans-serif;
        }

        table {
            width: 100%;
            border-collapse: collapse;
        }

        th, td {
            border: 1px solid #ccc;
            padding: 8px;
            text-align: center;
        }

        th {
            background-color: #f4f4f4;
        }

        input {
            width: 90%;
            padding: 4px;
        }

        .result {
            background-color: #e9f7e9;
        }

        .accumulated {
            background-color: #fef7e0;
        }

        .summary {
            font-weight: bold;
            background-color: #d9edf7;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;div id=&quot;menu-container&quot;&gt;&lt;/div&gt;
&lt;script src=&quot;menu.js&quot;&gt;&lt;/script&gt;
    
&lt;h1&gt;Pace and Time Calculator&lt;/h1&gt;
&lt;table&gt;
    &lt;thead&gt;
        &lt;tr&gt;
            &lt;th&gt;Distance (km)&lt;/th&gt;
            &lt;th&gt;Pace (Minutes)&lt;/th&gt;
            &lt;th&gt;Pace (Seconds)&lt;/th&gt;
            &lt;th&gt;Time (Minutes:Seconds)&lt;/th&gt;
            &lt;th&gt;Accumulated Time&lt;/th&gt; &lt;!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏ô‡∏µ‡πâ --&gt;
        &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody id=&quot;calculatorTable&quot;&gt;
        &lt;tr&gt;
            &lt;td&gt;&lt;input type=&quot;number&quot; class=&quot;distance&quot; step=&quot;0.1&quot; oninput=&quot;calculateRow(this)&quot;&gt;&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;number&quot; class=&quot;pace-minutes&quot; oninput=&quot;calculateRow(this)&quot;&gt;&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;number&quot; class=&quot;pace-seconds&quot; oninput=&quot;calculateRow(this)&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;result&quot;&gt;0:00&lt;/td&gt;
            &lt;td class=&quot;accumulated&quot;&gt;0:00&lt;/td&gt; &lt;!-- ‡∏ä‡πà‡∏≠‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏∞‡∏™‡∏° --&gt;
        &lt;/tr&gt;
    &lt;/tbody&gt;
    &lt;tfoot&gt;
        &lt;tr class=&quot;summary&quot;&gt;
            &lt;td id=&quot;totalDistance&quot;&gt;0&lt;/td&gt;
            &lt;td colspan=&quot;2&quot;&gt;Average Pace: &lt;span id=&quot;averagePace&quot;&gt;0:00&lt;/span&gt;&lt;/td&gt;
            &lt;td id=&quot;totalTime&quot;&gt;0:00:00&lt;/td&gt;
            &lt;td&gt;&lt;/td&gt; &lt;!-- ‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà footer ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏™‡∏î‡∏á --&gt;
        &lt;/tr&gt;
    &lt;/tfoot&gt;
&lt;/table&gt;
&lt;button onclick=&quot;addRow()&quot;&gt;Add Row&lt;/button&gt;

&lt;script&gt;
    function addRow() {
        const table = document.getElementById(&#x27;calculatorTable&#x27;);
        const newRow = document.createElement(&#x27;tr&#x27;);

        newRow.innerHTML = `
            &lt;td&gt;&lt;input type=&quot;number&quot; class=&quot;distance&quot; step=&quot;0.1&quot; oninput=&quot;calculateRow(this)&quot;&gt;&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;number&quot; class=&quot;pace-minutes&quot; oninput=&quot;calculateRow(this)&quot;&gt;&lt;/td&gt;
            &lt;td&gt;&lt;input type=&quot;number&quot; class=&quot;pace-seconds&quot; oninput=&quot;calculateRow(this)&quot;&gt;&lt;/td&gt;
            &lt;td class=&quot;result&quot;&gt;0:00&lt;/td&gt;
            &lt;td class=&quot;accumulated&quot;&gt;0:00&lt;/td&gt;
        `;

        table.appendChild(newRow);
    }

    function calculateRow(inputElement) {
        const row = inputElement.closest(&#x27;tr&#x27;);
        const distance = parseFloat(row.querySelector(&#x27;.distance&#x27;).value) || 0;
        const paceMinutes = parseInt(row.querySelector(&#x27;.pace-minutes&#x27;).value) || 0;
        const paceSeconds = parseInt(row.querySelector(&#x27;.pace-seconds&#x27;).value) || 0;

        const totalPaceSeconds = (paceMinutes * 60) + paceSeconds;
        const totalSeconds = distance * totalPaceSeconds;
        const minutes = Math.floor(totalSeconds / 60);
        const seconds = Math.round(totalSeconds % 60);

        row.querySelector(&#x27;.result&#x27;).textContent = `${minutes}:${seconds.toString().padStart(2, &#x27;0&#x27;)}`;

        calculateSummary();
        updateAccumulatedTimes();
    }

    function calculateSummary() {
        const rows = document.querySelectorAll(&#x27;#calculatorTable tr&#x27;);
        let totalDistance = 0;
        let totalTimeInSeconds = 0;

        rows.forEach(row =&gt; {
            const distance = parseFloat(row.querySelector(&#x27;.distance&#x27;).value) || 0;
            const result = row.querySelector(&#x27;.result&#x27;).textContent.split(&#x27;:&#x27;);
            const timeInSeconds = (parseInt(result[0]) * 60) + parseInt(result[1]);

            totalDistance += distance;
            totalTimeInSeconds += timeInSeconds;
        });

        const totalHours = Math.floor(totalTimeInSeconds / 3600);
        const totalMinutes = Math.floor((totalTimeInSeconds % 3600) / 60);
        const totalSeconds = totalTimeInSeconds % 60;

        const averagePaceInSeconds = totalDistance &gt; 0 ? Math.ceil(totalTimeInSeconds / totalDistance) : 0;
        const averagePaceMinutes = Math.floor(averagePaceInSeconds / 60);
        const averagePaceSeconds = averagePaceInSeconds % 60;

        document.getElementById(&#x27;totalDistance&#x27;).textContent = totalDistance.toFixed(2);
        document.getElementById(&#x27;totalTime&#x27;).textContent = `${totalHours}:${totalMinutes.toString().padStart(2, &#x27;0&#x27;)}:${totalSeconds.toString().padStart(2, &#x27;0&#x27;)}`;
        document.getElementById(&#x27;averagePace&#x27;).textContent = `${averagePaceMinutes}:${averagePaceSeconds.toString().padStart(2, &#x27;0&#x27;)}`;
    }

    function updateAccumulatedTimes() {
        const rows = document.querySelectorAll(&#x27;#calculatorTable tr&#x27;);
        let accumulatedSeconds = 0;

        rows.forEach(row =&gt; {
            const result = row.querySelector(&#x27;.result&#x27;).textContent.split(&#x27;:&#x27;);
            const timeInSeconds = (parseInt(result[0]) * 60) + parseInt(result[1]);
            accumulatedSeconds += timeInSeconds;

            // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤‡∏™‡∏∞‡∏™‡∏°‡πÄ‡∏õ‡πá‡∏ô mm:ss
            const accMinutes = Math.floor(accumulatedSeconds / 60);
            const accSeconds = accumulatedSeconds % 60;

            row.querySelector(&#x27;.accumulated&#x27;).textContent = `${accMinutes}:${accSeconds.toString().padStart(2, &#x27;0&#x27;)}`;
        });
    }
&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
"></iframe>
    <iframe id="page-race" title="Race Predict" srcdoc="&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;th&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;Race Predict (Race Pace) Calculator - Reverse LT Pace&lt;/title&gt;
  &lt;style&gt;
    /* Reset ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */
    * { box-sizing: border-box; }
    body {
      font-family: &#x27;Segoe UI&#x27;, Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 600px;
      background: #fff;
      margin: 30px auto;
      padding: 20px 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      text-align: center;
      color: #333;
      margin-bottom: 15px;
    }
    form { margin-top: 20px; }
    .form-group { margin-bottom: 20px; }
    label {
      display: block;
      margin-bottom: 5px;
      color: #555;
      font-weight: 500;
    }
    .inline-inputs {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .inline-inputs input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
    }
    .inline-inputs span {
      font-size: 16px;
      color: #555;
      white-space: nowrap;
    }
    input[type=&quot;number&quot;] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    small {
      display: block;
      margin-top: 5px;
      color: #888;
    }
    button {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 12px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
      transition: background 0.3s ease;
    }
    button:hover { background: #0056b3; }
    #result, #standardResults {
      margin-top: 25px;
      padding: 15px;
      background: #e9ecef;
      border-radius: 4px;
    }
    .standard-list {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    .standard-list li {
      background: #fff;
      padding: 10px;
      margin-bottom: 10px;
      border-left: 4px solid #007bff;
      border-radius: 4px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
      font-size: 16px;
    }
    .badge {
      background: #007bff;
      color: #fff;
      border-radius: 12px;
      padding: 2px 6px;
      font-size: 14px;
      margin-left: 8px;
      display: inline-block;
    }
    @media (max-width: 600px) {
      .container { margin: 10px; padding: 15px 20px; }
      button { padding: 10px; }
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class=&quot;container&quot;&gt;
    &lt;h1&gt;Race Predict Calculator&lt;/h1&gt;
    &lt;form id=&quot;raceForm&quot; onsubmit=&quot;event.preventDefault(); calculateRacePredict();&quot;&gt;
      
      &lt;!-- 1. ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡πÑ‡∏î‡πâ --&gt;
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label for=&quot;achievedDistance&quot;&gt;‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏¢‡∏ó‡∏≥‡πÑ‡∏î‡πâ (‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‡∏Å‡∏°.)&lt;/label&gt;
        &lt;input type=&quot;number&quot; id=&quot;achievedDistance&quot; name=&quot;achievedDistance&quot; step=&quot;any&quot; placeholder=&quot;‡πÄ‡∏ä‡πà‡∏ô 5 - 42.195&quot; required&gt;
      &lt;/div&gt;
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label&gt;‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ) &lt;small&gt;(‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á, ‡∏ô‡∏≤‡∏ó‡∏µ, ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)&lt;/small&gt;&lt;/label&gt;
        &lt;div class=&quot;inline-inputs&quot;&gt;
          &lt;input type=&quot;number&quot; id=&quot;achievedHours&quot; name=&quot;achievedHours&quot; min=&quot;0&quot; placeholder=&quot;‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á&quot; value=&quot;0&quot;&gt;
          &lt;span&gt;:&lt;/span&gt;
          &lt;input type=&quot;number&quot; id=&quot;achievedMinutes&quot; name=&quot;achievedMinutes&quot; min=&quot;0&quot; max=&quot;59&quot; placeholder=&quot;‡∏ô‡∏≤‡∏ó‡∏µ&quot; value=&quot;0&quot;&gt;
          &lt;span&gt;:&lt;/span&gt;
          &lt;input type=&quot;number&quot; id=&quot;achievedSeconds&quot; name=&quot;achievedSeconds&quot; min=&quot;0&quot; max=&quot;59&quot; placeholder=&quot;‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ&quot; value=&quot;0&quot;&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      
      &lt;!-- 2. ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå --&gt;
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label for=&quot;distance&quot;&gt;‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå (‡∏Å‡∏°.)&lt;/label&gt;
        &lt;input type=&quot;number&quot; id=&quot;distance&quot; name=&quot;distance&quot; step=&quot;any&quot; placeholder=&quot;‡πÄ‡∏ä‡πà‡∏ô 21.1&quot; required&gt;
      &lt;/div&gt;
      
      &lt;button type=&quot;submit&quot;&gt;‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì&lt;/button&gt;
    &lt;/form&gt;
  
    &lt;!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Input --&gt;
    &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
    
    &lt;!-- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÅ‡∏•‡∏∞ % Pace --&gt;
    &lt;div id=&quot;standardResults&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ä‡πà‡∏ß‡∏¢‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‡πÄ‡∏õ‡πá‡∏ô &quot;‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ&quot;
    function formatTime(totalSeconds) {
      const hours = Math.floor(totalSeconds / 3600);
      const minutes = Math.floor((totalSeconds % 3600) / 60);
      const seconds = totalSeconds % 60;
      let timeString = &quot;&quot;;
      if (hours &gt; 0) { timeString += hours + &quot; ‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á &quot;; }
      if (minutes &gt; 0 || hours &gt; 0) { timeString += minutes + &quot; ‡∏ô‡∏≤‡∏ó‡∏µ &quot;; }
      timeString += seconds + &quot; ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ&quot;;
      return timeString;
    }

    // ‡πÅ‡∏õ‡∏•‡∏á pace (‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.) ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö &quot;m:ss&quot;
    function formatPace(pace) {
  const totalSeconds = Math.round(pace * 60);
  const minutes = Math.floor(totalSeconds / 60);
  const seconds = totalSeconds % 60;
  const secondsStr = seconds &lt; 10 ? &quot;0&quot; + seconds : seconds;
  return minutes + &quot;:&quot; + secondsStr;
}


    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ LT Pace (ltTotalSec: ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)
    function computeRaceTime(targetDistance, ltTotalSec) {
      const segments = [
        { duration: 2, percent: 120 },
        { duration: 6 , percent: 110 },
        { duration: 30, percent: 100 },
        { duration: 90, percent: 90 },
        { duration: 120, percent: 80 },
        { duration: 120, percent: 65 }
      ];
      let totalTimeMinutes = 0;
      let remainingDistance = targetDistance;

      function adjustedPace(percent) {
        return (ltTotalSec * (100 / percent)) / 60; // pace in ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.
      }
      
      for (let i = 0; i &lt; segments.length; i++) {
        const seg = segments[i];
        const pace = adjustedPace(seg.percent);
        const segDistance = seg.duration / pace;
        if (segDistance &lt; remainingDistance) {
          totalTimeMinutes += seg.duration;
          remainingDistance -= segDistance;
        } else {
          totalTimeMinutes += remainingDistance * pace;
          remainingDistance = 0;
          break;
        }
      }
      // ‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡∏°‡∏µ‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ ‡πÉ‡∏´‡πâ‡∏ß‡∏¥‡πà‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ó‡∏µ‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏ó‡∏µ‡πà 50%
      if (remainingDistance &gt; 0) {
        const pace50 = adjustedPace(50);
        totalTimeMinutes += remainingDistance * pace50;
      }
      return totalTimeMinutes;
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤ LT Pace (ltTotalSec) ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ (‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ binary search)
    function findLTPace(achievedDistance, achievedTimeMinutes) {
      let low = 120;  
      let high = 600; 
      let mid;
      for (let i = 0; i &lt; 30; i++) {
        mid = (low + high) / 2;
        const computedTime = computeRaceTime(achievedDistance, mid);
        if (computedTime &gt; achievedTimeMinutes) {
          high = mid;
        } else {
          low = mid;
        }
      }
      return mid;
    }

    function calculateRacePredict() {
      const achievedDistance = parseFloat(document.getElementById(&quot;achievedDistance&quot;).value);
      let achievedHours = parseInt(document.getElementById(&quot;achievedHours&quot;).value, 10);
      let achievedMinutes = parseInt(document.getElementById(&quot;achievedMinutes&quot;).value, 10);
      let achievedSeconds = parseInt(document.getElementById(&quot;achievedSeconds&quot;).value, 10);
      
      achievedHours = isNaN(achievedHours) ? 0 : achievedHours;
      achievedMinutes = isNaN(achievedMinutes) ? 0 : achievedMinutes;
      achievedSeconds = isNaN(achievedSeconds) ? 0 : achievedSeconds;
      
      const forecastDistance = parseFloat(document.getElementById(&quot;distance&quot;).value);

      if (isNaN(achievedDistance) || isNaN(forecastDistance)) {
        document.getElementById(&quot;result&quot;).innerHTML = &quot;&lt;p style=&#x27;color:red;&#x27;&gt;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô&lt;/p&gt;&quot;;
        return;
      }
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ô‡∏≤‡∏ó‡∏µ)
      const totalAchievedTimeMinutes = achievedHours * 60 + achievedMinutes + achievedSeconds / 60;
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì pace ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ (‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)
      const inputPace = totalAchievedTimeMinutes / achievedDistance;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì LT Pace (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)
      const ltTotalSec = findLTPace(achievedDistance, totalAchievedTimeMinutes);
      const ltPaceInMinutes = ltTotalSec / 60;
      const ltPaceStr = formatPace(ltPaceInMinutes);

      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏Ñ‡∏≤‡∏î‡∏Å‡∏≤‡∏£‡∏ì‡πå
      const forecastTimeMinutes = computeRaceTime(forecastDistance, ltTotalSec);
      const forecastTimeSec = Math.round(forecastTimeMinutes * 60);
      const forecastTimeStr = formatTime(forecastTimeSec);
      const avgPaceForecast = forecastTimeMinutes / forecastDistance;
      const avgPaceForecastStr = formatPace(avgPaceForecast);
      
      let resultHTML = `&lt;p&gt;&lt;strong&gt;Pace ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ:&lt;/strong&gt; ${formatPace(inputPace)} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.&lt;/p&gt;`;
      resultHTML += `&lt;p&gt;&lt;strong&gt;LT Pace ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ:&lt;/strong&gt; ${ltPaceStr} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.&lt;/p&gt;`;
      resultHTML += `&lt;p&gt;&lt;strong&gt;‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ${forecastDistance} ‡∏Å‡∏°. ‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÄ‡∏ß‡∏•‡∏≤:&lt;/strong&gt; ${forecastTimeStr} &lt;br&gt;(Pace ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: ${avgPaceForecastStr} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)&lt;/p&gt;`;
      document.getElementById(&quot;result&quot;).innerHTML = resultHTML;
      
      // ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô
      const standardDistances = [
        { label: &quot;5K&quot;, distance: 5 },
        { label: &quot;5M&quot;, distance: 8.04672 },
        { label: &quot;10K&quot;, distance: 10 },
        { label: &quot;10M&quot;, distance: 16.09344 },
        { label: &quot;Half Marathon&quot;, distance: 21.0975 },
        { label: &quot;33K&quot;, distance: 33 },
        { label: &quot;Marathon&quot;, distance: 42.195 }
      ];
      
      let standardHTML = &quot;&lt;h3&gt;‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô:&lt;/h3&gt;&lt;ul class=&#x27;standard-list&#x27;&gt;&quot;;
      standardDistances.forEach(function(item) {
        const timeMin = computeRaceTime(item.distance, ltTotalSec);
        const timeSec = Math.round(timeMin * 60);
        const timeStr = formatTime(timeSec);
        const avgPaceForStandard = timeMin / item.distance;
        const avgPaceForStandardStr = formatPace(avgPaceForStandard);
        standardHTML += `&lt;li&gt;${item.label} (${item.distance} ‡∏Å‡∏°.): ${timeStr} &lt;span class=&quot;badge&quot;&gt;(${avgPaceForStandardStr} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)&lt;/span&gt;&lt;/li&gt;`;
      });
      standardHTML += &quot;&lt;/ul&gt;&quot;;
      
      // ‡πÅ‡∏™‡∏î‡∏á % ‡∏Ç‡∏≠‡∏á Pace ‡∏à‡∏≤‡∏Å LT Pace (70% - 125% ‡∏ó‡∏∏‡∏Å 5%)
      let ltPacePercentHTML = &quot;&lt;h3&gt;‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå % ‡∏Ç‡∏≠‡∏á Pace ‡∏à‡∏≤‡∏Å LT Pace:&lt;/h3&gt;&lt;ul class=&#x27;standard-list&#x27;&gt;&quot;;
      for (let percent = 60; percent &lt;= 125; percent += 5) {
        let paceAtPercent = (ltTotalSec * (100 / percent)) / 60; 
        ltPacePercentHTML += `&lt;li&gt;${percent}%: ${formatPace(paceAtPercent)} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.&lt;/li&gt;`;
      }
      ltPacePercentHTML += &quot;&lt;/ul&gt;&quot;;

  
     
      
      // ‡∏£‡∏ß‡∏°‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÉ‡∏ô standardResults
      document.getElementById(&quot;standardResults&quot;).innerHTML = standardHTML + ltPacePercentHTML ;
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
"></iframe>
    <iframe id="page-train" title="Training Pace" srcdoc="&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;th&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
  &lt;title&gt;Training Pace Calculator from LT Pace&lt;/title&gt;
  &lt;style&gt;
    /* Reset ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */
    * { box-sizing: border-box; }
    body {
      font-family: &#x27;Segoe UI&#x27;, Tahoma, Geneva, Verdana, sans-serif;
      background: #f5f5f5;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }
    .container {
      max-width: 650px;
      background: #fff;
      margin: 30px auto;
      padding: 20px 30px;
      border-radius: 8px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    h1, h2, h3 {
      text-align: center;
      color: #333;
      margin-bottom: 15px;
    }
    form { margin-top: 20px; }
    .form-group { margin-bottom: 20px; }
    label {
      display: block;
      margin-bottom: 5px;
      color: #555;
      font-weight: 500;
    }
    .inline-inputs {
      display: flex;
      align-items: center;
      gap: 10px;
    }
    .inline-inputs input {
      flex: 1;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      font-size: 16px;
    }
    .inline-inputs span {
      font-size: 16px;
      color: #555;
      white-space: nowrap;
    }
    input[type=&quot;number&quot;] {
      width: 100%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    small {
      display: block;
      margin-top: 5px;
      color: #888;
    }
    button {
      background: #007bff;
      color: #fff;
      border: none;
      padding: 12px;
      font-size: 16px;
      border-radius: 4px;
      cursor: pointer;
      width: 100%;
      margin-top: 10px;
      transition: background 0.3s ease;
    }
    button:hover { background: #0056b3; }
    #result {
      margin-top: 25px;
      padding: 15px;
      background: #e9ecef;
      border-radius: 4px;
      text-align: center;
    }
    #training-paces {
        margin-top: 20px;
    }
    .pace-category {
        background: #fff;
        padding: 15px;
        margin-bottom: 15px;
        border-left: 5px solid #007bff;
        border-radius: 4px;
        box-shadow: 0 1px 4px rgba(0,0,0,0.08);
    }
    .pace-category h3 {
        margin-top: 0;
        margin-bottom: 10px;
        color: #0056b3;
        text-align: left;
    }
    .pace-list {
        list-style: none;
        padding: 0;
        margin: 0;
    }
    .pace-list li {
        display: flex;
        justify-content: space-between;
        padding: 8px 0;
        border-bottom: 1px solid #eee;
        font-size: 16px;
    }
    .pace-list li:last-child {
        border-bottom: none;
    }
    .pace-value {
        font-weight: bold;
        color: #333;
    }
    .pace-label {
        color: #555;
    }
    @media (max-width: 600px) {
      .container { margin: 10px; padding: 15px 20px; }
      button { padding: 10px; }
      .pace-list li { flex-direction: column; align-items: flex-start; gap: 5px; }
    }
  &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;div class=&quot;container&quot;&gt;
    &lt;h1&gt;Training Pace Calculator&lt;/h1&gt;
    &lt;form id=&quot;raceForm&quot; onsubmit=&quot;event.preventDefault(); calculateRacePredict();&quot;&gt;
      
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label for=&quot;achievedDistance&quot;&gt;‡∏ú‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πÄ‡∏Ñ‡∏¢‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ(‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á ‡∏Å‡∏°.)&lt;/label&gt;
        &lt;input type=&quot;number&quot; id=&quot;achievedDistance&quot; name=&quot;achievedDistance&quot; step=&quot;any&quot; placeholder=&quot;‡πÄ‡∏ä‡πà‡∏ô ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà 5 ‡∏Å‡∏°. - 42.2 ‡∏Å‡∏°.&quot; required&gt;
      &lt;/div&gt;
      &lt;div class=&quot;form-group&quot;&gt;
        &lt;label&gt;‡πÄ‡∏ß‡∏•‡∏≤ (‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ) &lt;small&gt;(‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á, ‡∏ô‡∏≤‡∏ó‡∏µ, ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)&lt;/small&gt;&lt;/label&gt;
        &lt;div class=&quot;inline-inputs&quot;&gt;
          &lt;input type=&quot;number&quot; id=&quot;achievedHours&quot; name=&quot;achievedHours&quot; min=&quot;0&quot; placeholder=&quot;‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á&quot; value=&quot;0&quot;&gt;
          &lt;span&gt;:&lt;/span&gt;
          &lt;input type=&quot;number&quot; id=&quot;achievedMinutes&quot; name=&quot;achievedMinutes&quot; min=&quot;0&quot; max=&quot;59&quot; placeholder=&quot;‡∏ô‡∏≤‡∏ó‡∏µ&quot; value=&quot;0&quot;&gt;
          &lt;span&gt;:&lt;/span&gt;
          &lt;input type=&quot;number&quot; id=&quot;achievedSeconds&quot; name=&quot;achievedSeconds&quot; min=&quot;0&quot; max=&quot;59&quot; placeholder=&quot;‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ&quot; value=&quot;0&quot;&gt;
        &lt;/div&gt;
      &lt;/div&gt;
      
      &lt;button type=&quot;submit&quot;&gt;‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Pace ‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≠‡∏°&lt;/button&gt;
    &lt;/form&gt;
  
    &lt;div id=&quot;result&quot;&gt;&lt;/div&gt;
    
    &lt;div id=&quot;training-paces&quot;&gt;&lt;/div&gt;
  &lt;/div&gt;

  &lt;script&gt;
    // ‡πÅ‡∏õ‡∏•‡∏á pace (‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.) ‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö &quot;m:ss&quot;
    function formatPace(pace) {
      const totalSeconds = Math.round(pace * 60);
      const minutes = Math.floor(totalSeconds / 60);
      const seconds = totalSeconds % 60;
      const secondsStr = seconds &lt; 10 ? &quot;0&quot; + seconds : String(seconds).padStart(2, &#x27;0&#x27;);
      return minutes + &quot;:&quot; + secondsStr;
    }
    
    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì Pace Range ‡∏à‡∏≤‡∏Å %
    function getPaceRange(ltTotalSec, lowPercent, highPercent) {
        // Note: highPercent (‡πÄ‡∏£‡πá‡∏ß) ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≤ pace ‡∏ï‡πà‡∏≥, lowPercent (‡∏ä‡πâ‡∏≤) ‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≤ pace ‡∏™‡∏π‡∏á
        const paceAtHighPercent = (ltTotalSec * (100 / highPercent)) / 60;
        const paceAtLowPercent = (ltTotalSec * (100 / lowPercent)) / 60;
        return `${formatPace(paceAtHighPercent)} - ${formatPace(paceAtLowPercent)}`;
    }


    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ LT Pace (ltTotalSec: ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)
    function computeRaceTime(targetDistance, ltTotalSec) {
      const segments = [
        { duration: 2, percent: 120 },
        { duration: 6 , percent: 110 },
        { duration: 30, percent: 100 },
        { duration: 90, percent: 90 },
        { duration: 120, percent: 80 },
        { duration: 120, percent: 65 }
      ];
      let totalTimeMinutes = 0;
      let remainingDistance = targetDistance;

      function adjustedPace(percent) {
        return (ltTotalSec * (100 / percent)) / 60; // pace in ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.
      }
      
      for (let i = 0; i &lt; segments.length; i++) {
        const seg = segments[i];
        const pace = adjustedPace(seg.percent);
        const segDistance = seg.duration / pace;
        if (segDistance &lt; remainingDistance) {
          totalTimeMinutes += seg.duration;
          remainingDistance -= segDistance;
        } else {
          totalTimeMinutes += remainingDistance * pace;
          remainingDistance = 0;
          break;
        }
      }
      if (remainingDistance &gt; 0) {
        const pace50 = adjustedPace(50);
        totalTimeMinutes += remainingDistance * pace50;
      }
      return totalTimeMinutes;
    }

    // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤ LT Pace (ltTotalSec) ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ (‡πÇ‡∏î‡∏¢‡πÉ‡∏ä‡πâ binary search)
    function findLTPace(achievedDistance, achievedTimeMinutes) {
      let low = 120;  
      let high = 720; // ‡πÄ‡∏û‡∏¥‡πà‡∏° high range ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö pace ‡∏ó‡∏µ‡πà‡∏ä‡πâ‡∏≤‡∏•‡∏á
      let mid;
      for (let i = 0; i &lt; 30; i++) { // 30 iterations for precision
        mid = (low + high) / 2;
        const computedTime = computeRaceTime(achievedDistance, mid);
        if (computedTime &gt; achievedTimeMinutes) {
          high = mid;
        } else {
          low = mid;
        }
      }
      return mid;
    }

    function calculateRacePredict() {
      const achievedDistance = parseFloat(document.getElementById(&quot;achievedDistance&quot;).value);
      let achievedHours = parseInt(document.getElementById(&quot;achievedHours&quot;).value, 10) || 0;
      let achievedMinutes = parseInt(document.getElementById(&quot;achievedMinutes&quot;).value, 10) || 0;
      let achievedSeconds = parseInt(document.getElementById(&quot;achievedSeconds&quot;).value, 10) || 0;

      if (isNaN(achievedDistance) || achievedDistance &lt;= 0) {
        document.getElementById(&quot;result&quot;).innerHTML = &quot;&lt;p style=&#x27;color:red;&#x27;&gt;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á&lt;/p&gt;&quot;;
        document.getElementById(&quot;training-paces&quot;).innerHTML = &quot;&quot;; // Clear previous results
        return;
      }
       if (achievedHours === 0 &amp;&amp; achievedMinutes === 0 &amp;&amp; achievedSeconds === 0) {
        document.getElementById(&quot;result&quot;).innerHTML = &quot;&lt;p style=&#x27;color:red;&#x27;&gt;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ&lt;/p&gt;&quot;;
        document.getElementById(&quot;training-paces&quot;).innerHTML = &quot;&quot;; // Clear previous results
        return;
      }
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡∏ó‡∏≥‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ô‡∏≤‡∏ó‡∏µ) ‡πÅ‡∏•‡∏∞ Pace
      const totalAchievedTimeMinutes = achievedHours * 60 + achievedMinutes + achievedSeconds / 60;
      const inputPace = totalAchievedTimeMinutes / achievedDistance;
      
      // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì LT Pace (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.)
      const ltTotalSec = findLTPace(achievedDistance, totalAchievedTimeMinutes);
      const ltPaceInMinutes = ltTotalSec / 60;
      const ltPaceStr = formatPace(ltPaceInMinutes);

      // --- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå Pace ‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô ---
      let resultHTML = `
        &lt;p&gt;&lt;strong&gt;Pace ‡∏à‡∏≤‡∏Å‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô:&lt;/strong&gt; ${formatPace(inputPace)} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.&lt;/p&gt;
        &lt;h2 style=&quot;margin-bottom:0;&quot;&gt;&lt;strong&gt;LT Pace ‡∏ó‡∏µ‡πà‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏î‡πâ: ${ltPaceStr} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.&lt;/strong&gt;&lt;/h2&gt;`;
      document.getElementById(&quot;result&quot;).innerHTML = resultHTML;
      
      // --- ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå Pace ‡∏Å‡∏≤‡∏£‡∏ã‡πâ‡∏≠‡∏° ---
      let trainingHTML = `
        &lt;div class=&quot;pace-category&quot;&gt;
          &lt;h3&gt;Easy Run Pace ‡∏ß‡∏¥‡πà‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á&lt;/h3&gt;
          &lt;ul class=&quot;pace-list&quot;&gt;
            &lt;li&gt;&lt;span class=&quot;pace-label&quot;&gt;60-120 ‡∏ô‡∏≤‡∏ó‡∏µ (70-85% LT)&lt;/span&gt; &lt;span class=&quot;pace-value&quot;&gt;${getPaceRange(ltTotalSec, 70, 85)}&lt;/span&gt;&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;
        
        &lt;div class=&quot;pace-category&quot;&gt;
          &lt;h3&gt;Threshold Run Pace (Tempo) ‡∏ß‡∏¥‡πà‡∏á‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á&lt;/h3&gt;
          &lt;ul class=&quot;pace-list&quot;&gt;
             &lt;li&gt;&lt;span class=&quot;pace-label&quot;&gt;20-40 ‡∏ô‡∏≤‡∏ó‡∏µ (95-103% LT)&lt;/span&gt; &lt;span class=&quot;pace-value&quot;&gt;${getPaceRange(ltTotalSec, 95, 103)}&lt;/span&gt;&lt;/li&gt;
          &lt;/ul&gt;
        &lt;/div&gt;

        &lt;div class=&quot;pace-category&quot;&gt;
            &lt;h3&gt;Interval Run Pace ‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡∏ß‡∏¥‡πà‡∏á‡∏£‡∏ß‡∏° 20-30 ‡∏ô‡∏≤‡∏ó‡∏µ&lt;/h3&gt;
            &lt;ul class=&quot;pace-list&quot;&gt;

                &lt;li&gt;&lt;span class=&quot;pace-label&quot;&gt;‡∏ß‡∏¥‡πà‡∏á 3-5 ‡∏ô‡∏≤‡∏ó‡∏µ ‡∏û‡∏±‡∏Å 1-2 ‡∏ô‡∏≤‡∏ó‡∏µ(105-110% LT)&lt;/span&gt; &lt;span class=&quot;pace-value&quot;&gt;${getPaceRange(ltTotalSec, 105, 110)}&lt;/span&gt;&lt;/li&gt;

            &lt;/ul&gt;
        &lt;/div&gt;
      `;
      document.getElementById(&quot;training-paces&quot;).innerHTML = trainingHTML;
    }
  &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
"></iframe>
    <iframe id="page-pace" class="active" title="Pace Table" srcdoc="&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
&lt;head&gt;
    &lt;meta charset=&quot;UTF-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
    &lt;title&gt;Time, Pace, Distance Calculator&lt;/title&gt;
    &lt;style&gt;
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            padding: 0;
            display: flex;
            justify-content: center;
/*             align-items: center; */
/*             height: 100vh; */
            background-color: #f4f4f9;
        }

        .calculator {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            max-width: 400px;
            width: 100%;
            text-align: center;
            

        }

        .calculator h1 {
            font-size: 1.2em;
            margin-bottom: 20px;
            color: #333;
        }

        .form-group {
            margin-bottom: 15px;
        }

        .input-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 10px;
        }

        input {
            width: 70px;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1em;
            text-align: center;
        }

        button {
            width: 100%;
            padding: 10px;
            max-width: 150px;
            background-color: #007BFF;
            border: none;
            border-radius: 4px;
            color: white;
            font-size: 1em;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }

        button:hover {
            background-color: #0056b3;
        }

        #pacePercentResults {
            margin-top: 20px;
/*             max-height: 300px; */
            overflow-y: auto;
            border: 1px solid #ddd;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 4px;
            text-align: left;
        }

        .pace-item {
            background: #f9f9f9;
            padding: 8px;
            margin-bottom: 5px;
            border-radius: 4px;
        }

        .memory {
            margin-top: 20px;
            font-size: 0.9em;
            color: #666;
        }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div class=&quot;calculator&quot;&gt;
        &lt;h1&gt;Enter 2 values, calculate the 3rd.&lt;/h1&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;div class=&quot;input-container&quot;&gt;
                &lt;input type=&quot;number&quot; id=&quot;timeHours&quot; placeholder=&quot;h&quot; min=&quot;0&quot;&gt;
                &lt;input type=&quot;number&quot; id=&quot;timeMinutes&quot; placeholder=&quot;m&quot; min=&quot;0&quot; max=&quot;59&quot;&gt;
                &lt;input type=&quot;number&quot; id=&quot;timeSeconds&quot; placeholder=&quot;s&quot; min=&quot;0&quot; max=&quot;59&quot;&gt;
            &lt;/div&gt;
            &lt;button onclick=&quot;calculateTime()&quot;&gt;TIME&lt;/button&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;div class=&quot;input-container&quot;&gt;
                &lt;input type=&quot;number&quot; id=&quot;paceMinutes&quot; placeholder=&quot;m&quot; min=&quot;0&quot;&gt;
                &lt;input type=&quot;number&quot; id=&quot;paceSeconds&quot; placeholder=&quot;s&quot; min=&quot;0&quot; max=&quot;59&quot;&gt;
            &lt;/div&gt;
            &lt;button onclick=&quot;calculatePace()&quot;&gt;PACE&lt;/button&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;div class=&quot;input-container&quot;&gt;
                &lt;input type=&quot;number&quot; id=&quot;distance&quot; placeholder=&quot;km&quot; min=&quot;0&quot; step=&quot;0.01&quot;&gt;
            &lt;/div&gt;
            &lt;button onclick=&quot;calculateDistance()&quot;&gt;DISTANCE&lt;/button&gt;
        &lt;/div&gt;

        &lt;div class=&quot;form-group&quot;&gt;
            &lt;button onclick=&quot;calculatePacePercent()&quot;&gt;%PACE&lt;/button&gt;
        &lt;/div&gt;

        &lt;div id=&quot;pacePercentResults&quot;&gt;&lt;/div&gt;

        &lt;div class=&quot;memory&quot;&gt;‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ô‡∏∏‡∏Å‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏Ñ‡∏£‡∏±‡∏ö!&lt;/div&gt;
    &lt;/div&gt;

    &lt;script&gt;
        function calculateTime() {
            const paceMinutes = parseInt(document.getElementById(&#x27;paceMinutes&#x27;).value) || 0;
            const paceSeconds = parseInt(document.getElementById(&#x27;paceSeconds&#x27;).value) || 0;
            const distance = parseFloat(document.getElementById(&#x27;distance&#x27;).value) || 0;

            if (distance &lt;= 0) {
                alert(&quot;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0&quot;);
                return;
            }

            const totalPaceInSeconds = (paceMinutes * 60) + paceSeconds;
            const totalTimeInSeconds = totalPaceInSeconds * distance;

            const hours = Math.floor(totalTimeInSeconds / 3600);
            const minutes = Math.floor((totalTimeInSeconds % 3600) / 60);
            const seconds = Math.round(totalTimeInSeconds % 60);

            document.getElementById(&#x27;timeHours&#x27;).value = hours;
            document.getElementById(&#x27;timeMinutes&#x27;).value = minutes;
            document.getElementById(&#x27;timeSeconds&#x27;).value = seconds;
        }

        function calculatePace() {
            const timeHours = parseInt(document.getElementById(&#x27;timeHours&#x27;).value) || 0;
            const timeMinutes = parseInt(document.getElementById(&#x27;timeMinutes&#x27;).value) || 0;
            const timeSeconds = parseInt(document.getElementById(&#x27;timeSeconds&#x27;).value) || 0;
            const distance = parseFloat(document.getElementById(&#x27;distance&#x27;).value) || 0;

            if (distance &lt;= 0) {
                alert(&quot;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏∞‡∏¢‡∏∞‡∏ó‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 0&quot;);
                return;
            }

            const totalTimeInSeconds = (timeHours * 3600) + (timeMinutes * 60) + timeSeconds;
            const totalPaceInSeconds = totalTimeInSeconds / distance;

            const paceMinutes = Math.floor(totalPaceInSeconds / 60);
            const paceSeconds = Math.round(totalPaceInSeconds % 60);

            document.getElementById(&#x27;paceMinutes&#x27;).value = paceMinutes;
            document.getElementById(&#x27;paceSeconds&#x27;).value = paceSeconds;
        }

        function calculateDistance() {
            const timeHours = parseInt(document.getElementById(&#x27;timeHours&#x27;).value) || 0;
            const timeMinutes = parseInt(document.getElementById(&#x27;timeMinutes&#x27;).value) || 0;
            const timeSeconds = parseInt(document.getElementById(&#x27;timeSeconds&#x27;).value) || 0;
            const paceMinutes = parseInt(document.getElementById(&#x27;paceMinutes&#x27;).value) || 0;
            const paceSeconds = parseInt(document.getElementById(&#x27;paceSeconds&#x27;).value) || 0;

            const totalTimeInSeconds = (timeHours * 3600) + (timeMinutes * 60) + timeSeconds;
            const totalPaceInSeconds = (paceMinutes * 60) + paceSeconds;

            if (totalPaceInSeconds &lt;= 0) {
                alert(&quot;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Pace ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô&quot;);
                return;
            }

            const distance = totalTimeInSeconds / totalPaceInSeconds;

            document.getElementById(&#x27;distance&#x27;).value = distance.toFixed(2);
        }

        function calculatePacePercent() {
            const paceMinutes = parseInt(document.getElementById(&#x27;paceMinutes&#x27;).value) || 0;
            const paceSeconds = parseInt(document.getElementById(&#x27;paceSeconds&#x27;).value) || 0;

            const totalPaceSeconds = (paceMinutes * 60) + paceSeconds;

            if (totalPaceSeconds &lt;= 0) {
                alert(&quot;‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏Å‡∏£‡∏≠‡∏Å Pace (‡∏ô‡∏≤‡∏ó‡∏µ/‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ) ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πà‡∏≠‡∏ô&quot;);
                return;
            }

            const percentages = [55, 60, 65, 70, 75, 80, 85, 90, 95, 97, 100, 105, 110, 115, 120, 125];
            let resultHTML = &#x27;&#x27;;

            percentages.forEach(percent =&gt; {
                const newPaceSeconds = totalPaceSeconds / (percent / 100);
                const newPaceMinutes = Math.floor(newPaceSeconds / 60);
                const newPaceRemainSec = Math.round(newPaceSeconds % 60);

                resultHTML += `
                    &lt;div class=&quot;pace-item&quot;&gt;
                        &lt;strong&gt;${percent}%&lt;/strong&gt; = 
                        ${newPaceMinutes}:${newPaceRemainSec.toString().padStart(2, &#x27;0&#x27;)} ‡∏ô‡∏≤‡∏ó‡∏µ/‡∏Å‡∏°.
                    &lt;/div&gt;
                `;
            });

            const resultDiv = document.getElementById(&#x27;pacePercentResults&#x27;);
            resultDiv.innerHTML = resultHTML;

            document.querySelector(&#x27;.calculator&#x27;).scrollIntoView({ behavior: &#x27;smooth&#x27;, block: &#x27;start&#x27; });
        }
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
"></iframe>
  </main>

  <script>
    const buttons = document.querySelectorAll('.tab-btn');
    const frames = document.querySelectorAll('iframe');
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        // switch active button
        buttons.forEach(b => b.setAttribute('aria-selected', 'false'));
        btn.setAttribute('aria-selected', 'true');
        // switch visible iframe
        frames.forEach(f => f.classList.remove('active'));
        const id = btn.dataset.target;
        document.getElementById(id).classList.add('active');
        // Move focus to frame for accessibility
        document.getElementById(id).focus({preventScroll:true});
      });
    });
  </script>
</body>
</html>
